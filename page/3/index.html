<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="JoliceYu的个人博客">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="JoliceYu的个人博客">
<meta property="og:locale">
<meta property="article:author" content="Xipeng Yu">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://example.com/page/3/"/>





  <title>JoliceYu的个人博客</title>
  








<meta name="generator" content="Hexo 6.1.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">JoliceYu的个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Jolice-Yu</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/index.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/11/23/%E7%BC%96%E8%AF%91Caffe%E5%B9%B6%E8%B0%83%E7%94%A8%E5%85%B6Python%E6%8E%A5%E5%8F%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoliceYu的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/23/%E7%BC%96%E8%AF%91Caffe%E5%B9%B6%E8%B0%83%E7%94%A8%E5%85%B6Python%E6%8E%A5%E5%8F%A3/" itemprop="url">编译caffe并调用Python接口</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-23T22:07:00+08:00">
                2017-11-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index">
                    <span itemprop="name">深度学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-linux下调用调用caffe的C-接口"><a href="#1-linux下调用调用caffe的C-接口" class="headerlink" title="1  linux下调用调用caffe的C++接口"></a>1  linux下调用调用caffe的C++接口</h3><p> 方法1：直接写sh脚本文件，再运行sh文件即可，这种最简单，也是最常用的，新手可以参照.&#x2F;examples&#x2F;下的各种实例sh文件。<br> 方法2：在CAFFE_ROOT目录下，直接在linux的命令行窗口运行 .&#x2F;build&#x2F;tools&#x2F;caffe 后面加上相应的参数即可。</p>
<h3 id="2、、linux下调用调用caffe的python接口"><a href="#2、、linux下调用调用caffe的python接口" class="headerlink" title="2、、linux下调用调用caffe的python接口"></a>2、、linux下调用调用caffe的python接口</h3><p> 在linux中编译caffe的时候，一般会编译生成C++的接口，但是不会生成python或者是matlab的接口，需要手动编译python的接口。<br> 1、编译python接口，在CAFFE_ROOT下执行以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make pycaffe -j32</span><br></pre></td></tr></table></figure>
<p> 即可，这个32的值与自己的GPU有关。编译后的文件主要在CAFFE_ROOT&#x2F;python文件夹下。<br> 2 调用python接口<br> 编译成功后，如果直接进入python的环境，再import caffe会提示，caffe不存在：<br> <img src="https://img-blog.csdnimg.cn/img_convert/a364bdf0e7ceaad178fe9f216d8ea2de.png" alt="这里写图片描述"><br> 是因为编译后，python接口的caffe还没有进python的环境。<br> <strong>3、方法1:临时使用的方法：</strong><br>在CAFFE_ROOT下执行以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PYTHONPATH=python   #后面就是生成python接口文件的存储位置，如果这里不是caffe的根目录，后面的python文件夹的位置路径需要对应修改</span><br></pre></td></tr></table></figure>
<p> 注意：这里必须是PYTHONPATH，这是规定好的。<br> 以上命令相当于将python接口临时加入了python环境。<br> <img src="https://img-blog.csdnimg.cn/img_convert/1e5beda4cabeb881cd24b81de30e1cd6.png" alt="这里写图片描述"></p>
<p> 方法2：直接将CAFFE_ROOT&#x2F;python这个路径加到.bashrc文件中。一般.bashrc文件在你用户的路径下，在用户的home目录下，输入<strong>ls -al</strong> 这个命令就可以查看home目录下所有的文件，包括隐藏的文件。<br> 打开.bashrc文件，将python的路径加到环境变量里就可以了，即将下面这个加到文件最后即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PYTHONPATH=home/yxp/caffe/caffe/python   #这里必须是绝对路径，从后home开始</span><br></pre></td></tr></table></figure>
<p> 一定注意:这里必须是绝对路径，从整个系统的home路径开始，不然还是错的。这样后，就可以一直生效了。而且在自己的用户下所有的目录中都是生效的。上面的临时就不是的。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/09/20/MATLAB%E4%B8%AD%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E5%A4%B9%E8%B7%AF%E5%BE%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoliceYu的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/20/MATLAB%E4%B8%AD%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E5%A4%B9%E8%B7%AF%E5%BE%84/" itemprop="url">Matlab中获取文件夹路径</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-20T22:07:00+08:00">
                2017-09-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/MATLAB/" itemprop="url" rel="index">
                    <span itemprop="name">MATLAB</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>需要写一个MATLAB的小程序，其中需要指定一个文件夹，返回这个文件夹下所有文件夹的名字，以及文件夹的个数。</p>
<h3 id="代码如下："><a href="#代码如下：" class="headerlink" title="代码如下："></a>代码如下：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function [names,class_num] = GetFiles()</span><br><span class="line">files = dir(&#x27;data\多类样本\&#x27;);</span><br><span class="line">size0 = size(files);</span><br><span class="line">length = size0(1);</span><br><span class="line">names = files(3:length);</span><br><span class="line">class_num = size(names);</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<h3 id="结果："><a href="#结果：" class="headerlink" title="结果："></a>结果：</h3><p><img src="https://img-blog.csdnimg.cn/img_convert/82c9beef0be06d4a6975aab0af3924e1.png" alt="这里写图片描述"></p>
<p>电脑上文件夹目录： data-&gt;多类样本-&gt;1\2\3\4\5,为5个文件夹。但是返回的files变量中有7个路径。<img src="https://img-blog.csdnimg.cn/img_convert/23f7fe4f0a391880329a92e9cf7fb66e.png" alt="这里写图片描述"><br>前两个可以忽略，用dir命令，在matlab中因为采用了类似于linux的文件结构，所以会产生前面2个路径。<br>最后获取files的第3到7行赋值给names变量后的结构如下：<br><img src="https://img-blog.csdnimg.cn/img_convert/754774d73a389fda67a5edd14b787ae3.png" alt="这里写图片描述"></p>
<h3 id="总函数："><a href="#总函数：" class="headerlink" title="总函数："></a>总函数：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function [names,class_num] = GetFiles(SamplePath1 )</span><br><span class="line">SamplePath1 = &#x27;data\sample\&#x27;;</span><br><span class="line">files = dir(SamplePath1);</span><br><span class="line">size0 = size(files);</span><br><span class="line">length = size0(1);</span><br><span class="line"></span><br><span class="line">for i=3:length;</span><br><span class="line">   fileName = strcat(SamplePath1,files(i,1).name); </span><br><span class="line">   names(:,:,i-2) = fileName;</span><br><span class="line">end</span><br><span class="line">class_num = size(names);</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/09/20/MFC%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E4%B8%8E%E6%96%87%E4%BB%B6%E5%A4%B9%E8%B7%AF%E5%BE%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoliceYu的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/20/MFC%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E4%B8%8E%E6%96%87%E4%BB%B6%E5%A4%B9%E8%B7%AF%E5%BE%84/" itemprop="url">MFC中获取文件与文件夹路径</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-20T22:07:00+08:00">
                2017-09-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/MFC/" itemprop="url" rel="index">
                    <span itemprop="name">MFC</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近做一个MFC的小界面，需要实现这样两个功能：1、在界面上加一个按钮，单击按钮弹出一个对话框选择文件，在工程中获得文件的路径；2、在界面上加一个按钮，单击按钮弹出一个对话框选择文件夹，在工程中获取文件夹的路径。</p>
<h3 id="一、获取文件的路径"><a href="#一、获取文件的路径" class="headerlink" title="一、获取文件的路径"></a>一、获取文件的路径</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// -- 按钮的消息响应函数</span><br><span class="line">void CDialogSampled::OnBnClickedButtonOpen()</span><br><span class="line">&#123;</span><br><span class="line">	// TODO: 在此添加控件通知处理程序代码</span><br><span class="line">	CString m_strFilePath = _T(&quot;&quot;);</span><br><span class="line"></span><br><span class="line">	//打开图像文件，获取文件路径名</span><br><span class="line">	LPCTSTR szFilter =_T(&quot;JPG(*.jpg)|*.jpg|BMP(*.bmp)|*.bmp|ALLSUPORTFILE(*.*)|*.*||&quot;);</span><br><span class="line">	CFileDialog dlgFileOpenImg(TRUE,NULL,NULL,OFN_HIDEREADONLY|OFN_OVERWRITEPROMPT,szFilter,NULL);</span><br><span class="line">	//打开图像</span><br><span class="line">	if(dlgFileOpenImg.DoModal() == IDOK)</span><br><span class="line">	&#123;		</span><br><span class="line">		//读取图像文件名</span><br><span class="line">		m_strFilePath = dlgFileOpenImg.GetPathName();</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		return;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="二、获取文件夹的路径"><a href="#二、获取文件夹的路径" class="headerlink" title="二、获取文件夹的路径"></a>二、获取文件夹的路径</h3><p>此处借鉴了<a target="_blank" rel="noopener" href="http://blog.csdn.net/computerme/article/details/41307849">http://blog.csdn.net/computerme/article/details/41307849</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">//选择样本图像保存路径</span><br><span class="line">void CDialogSampled::OnBnClickedButtonImageSavePathSelect()</span><br><span class="line">&#123;</span><br><span class="line">	// TODO: 在此添加控件通知处理程序代码</span><br><span class="line">	CString m_saveFilePath;</span><br><span class="line">	//打开图像文件，获取文件路径名</span><br><span class="line">	TCHAR szPath[_MAX_PATH];  </span><br><span class="line">	BROWSEINFO bi;  </span><br><span class="line">	bi.hwndOwner = GetSafeHwnd();  </span><br><span class="line">	bi.pidlRoot = NULL;  </span><br><span class="line">	bi.lpszTitle = &quot;Please select the input path&quot;;  </span><br><span class="line">	bi.pszDisplayName = szPath;  </span><br><span class="line">	bi.ulFlags = BIF_RETURNONLYFSDIRS;  </span><br><span class="line">	bi.lpfn = NULL;  </span><br><span class="line">	bi.lParam = NULL;  </span><br><span class="line">  </span><br><span class="line">	LPITEMIDLIST pItemIDList = SHBrowseForFolder(&amp;bi);  </span><br><span class="line">  </span><br><span class="line">	if(pItemIDList)  </span><br><span class="line">	&#123;  </span><br><span class="line">		if(SHGetPathFromIDList(pItemIDList,szPath))  </span><br><span class="line">		&#123;  </span><br><span class="line">			m_saveFilePath = szPath;  </span><br><span class="line">			m_saveFilePath = m_saveFilePath+&quot;\\&quot;;</span><br><span class="line">		&#125;  </span><br><span class="line">  </span><br><span class="line">		//use IMalloc interface for avoiding memory leak  </span><br><span class="line">		IMalloc* pMalloc;  </span><br><span class="line">		if( SHGetMalloc(&amp;pMalloc) != NOERROR )  </span><br><span class="line">		&#123;  </span><br><span class="line">			TRACE(_T(&quot;Can&#x27;t get the IMalloc interface\n&quot;));  </span><br><span class="line">		&#125;  </span><br><span class="line">  </span><br><span class="line">		pMalloc-&gt;Free(pItemIDList);  </span><br><span class="line">		if(pMalloc)  </span><br><span class="line">			pMalloc-&gt;Release();  </span><br><span class="line">		UpdateData(FALSE);  </span><br><span class="line">	&#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/09/19/MATLAB%E5%9B%BE%E5%83%8F%E8%BF%9E%E9%80%9A%E5%9F%9F%E6%93%8D%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoliceYu的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/19/MATLAB%E5%9B%BE%E5%83%8F%E8%BF%9E%E9%80%9A%E5%9F%9F%E6%93%8D%E4%BD%9C/" itemprop="url">MATLAB图像连通域操作</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-19T22:07:00+08:00">
                2017-09-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" itemprop="url" rel="index">
                    <span itemprop="name">图像处理</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近在用MATLAB做一个图像处理算法的仿真，其中涉及到了连通域的操作，因为平时对C++比较熟悉，对matlab语言不熟悉，折腾了好久，算是做一个记载吧。</p>
<h3 id="1、bwareaopen函数"><a href="#1、bwareaopen函数" class="headerlink" title="1、bwareaopen函数"></a>1、bwareaopen函数</h3><h4 id="用法"><a href="#用法" class="headerlink" title="*用法:"></a>*用法:</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">img = bwareaopen(img,set_noise);   </span><br><span class="line">%% 作用：对img图像做连通域操作，去除那些像素数据小于set_noise数目的连通域块，将其全部置为0。</span><br><span class="line">%% set_noise参数： 设置需要去除的连通域的像素数目的阈值</span><br><span class="line">%% 返回的是二值图像，图像中是连通域的部分都被置为1，其余的都是0</span><br></pre></td></tr></table></figure>
<p><strong>注意几点：</strong><br>1、连通域操作，<strong>操作的连通域的是白色部分</strong>，如果需要处理的图中需要做连通域的部分是黑色的，就需要做一个灰色反转。</p>
<h4 id="灰度反转"><a href="#灰度反转" class="headerlink" title="灰度反转"></a>灰度反转</h4><p>1、如果是灰度图像： img  &#x3D; 255 - img;<br>2、如果是二值图像： img &#x3D; 1 - img;</p>
<h3 id="2、bwlabel和regionprops函数"><a href="#2、bwlabel和regionprops函数" class="headerlink" title="2、bwlabel和regionprops函数"></a>2、bwlabel和regionprops函数</h3><p>####函数功能：<br>bwlabel函数  – 对连通域进行操作，标记<br>regionprops函数 – 统计连通域标识图像的连通域面积分布</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">%% 实现功能： 对二值图像做连通域操作，找到最大连通域区域的下标，将相应的连通域去掉（置0）</span><br><span class="line">%% 代码：</span><br><span class="line"> L = bwlabel(img2);   % 对连通区域进行标记 </span><br><span class="line"> %% 这一步之后，一个连通域会被相同的数字标识，数字最大值就是连通域的个数 。不同的正整数元素对应不同的区域，例如：L中等于整数1的元素对应区域1；L中等于整数2的元素对应区域2；以此类推。</span><br><span class="line"> stats = regionprops(L);  </span><br><span class="line"> %% 统计上一步标记图像中的连通域的面积分布</span><br><span class="line"> Ar = cat(1, stats.Area);  </span><br><span class="line"> ind = find(Ar ==max(Ar));%找到最大连通区域的标号  </span><br><span class="line"> img2(find(L==ind))=0;%将其区域置为0  </span><br></pre></td></tr></table></figure>

<h3 id="3、自己代码工程"><a href="#3、自己代码工程" class="headerlink" title="3、自己代码工程"></a>3、自己代码工程</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">clear all;</span><br><span class="line">% 路径</span><br><span class="line">SamplePath1 =  &#x27;image\&#x27;;  %存储图像的路径</span><br><span class="line">savepath = &#x27;image11\&#x27;;        %</span><br><span class="line">fileExt = &#x27;*.jpg&#x27;;  %待读取图像的后缀名</span><br><span class="line">%获取所有路径</span><br><span class="line">files = dir(fullfile(SamplePath1,fileExt)); </span><br><span class="line">len1 = size(files,1);</span><br><span class="line">%遍历路径下每一幅图像</span><br><span class="line">for i=1:len1;</span><br><span class="line">   fileName = strcat(SamplePath1,files(i).name); </span><br><span class="line">   image = imread(fileName);</span><br><span class="line">   image = rgb2gray(image);  %灰度化</span><br><span class="line">   </span><br><span class="line">   %调用自己分割函数</span><br><span class="line">   img2 = segmentation(image,2,&#x27;pso&#x27;);</span><br><span class="line">   img2 = 1 - img2;		%灰度反转</span><br><span class="line">   %连通域去掉小区域</span><br><span class="line">   set_noise=500;</span><br><span class="line">   % 去除</span><br><span class="line">   img2=bwareaopen(img2,set_noise);</span><br><span class="line">  </span><br><span class="line">   %去除最大的连通域</span><br><span class="line">   L = bwlabel(img2);% 对连通区域进行标记  </span><br><span class="line">   stats = regionprops(L);  </span><br><span class="line">   Ar = cat(1, stats.Area);  </span><br><span class="line">   ind = find(Ar ==max(Ar));%找到最大连通区域的标号  </span><br><span class="line">   img2(find(L==ind))=0;%将其区域置为0 </span><br><span class="line">   </span><br><span class="line">	%灰度反转回来</span><br><span class="line">   img2 = 1 - img2;</span><br><span class="line">  </span><br><span class="line">   fileName2 = strcat(savepath,files(i).name); </span><br><span class="line">   imwrite(img2, fileName2);</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/07/27/MATLAB%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoliceYu的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/27/MATLAB%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E6%95%B4%E7%90%86/" itemprop="url">MATLAB常用函数整理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-27T22:07:00+08:00">
                2017-07-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/MATLAB/" itemprop="url" rel="index">
                    <span itemprop="name">MATLAB</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近在学习matconvnet框架中越来越觉得matlab语言编程的重要性。此博客主要记载平常常用到的一些matlab函数、概念以及代码。<br>##1 基本概念<br>1、矩阵和向量的思想：matlab是基于矩阵运算的语言，是一个矩阵运算的工具箱，所以在MATLAB中一直要有矩阵和向量的概念，如果熟悉了传统计算机编程思想，这是matlab编程很大的一个区别。<br>2、结构体的概念：在matlab中经常遇到矩阵结构体的变量。比如一个变量data，下面有2个子变量，2个变量又分别是一个n维的矩阵等，比如matconvnet中net变量就是典型。还有一点就是：在matlab中变量不需要先定义，可以直接使用，而且结构体变量的成员都不需要事先定义好。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">%读取一张图赋值给变量image,无需定义image变量，直接使用</span><br><span class="line">image=imread(&#x27;123.jpg&#x27;);</span><br><span class="line">%将image变量赋值为data变量的子成员，无需定义data变量的结构，直接使用</span><br><span class="line">data.image0 = image;</span><br><span class="line">%image变量为data0变量的成员变量image0四维矩阵的一维</span><br><span class="line">data.image(:,:,:,1)=image;</span><br></pre></td></tr></table></figure>

<p>##2 常用函数和变量</p>
<p>####cat函数<br>该函数主要用于矩阵数组的拼接。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">% 拼接两个3维的矩阵数组A和B</span><br><span class="line">data=cat（3, A, B） %将矩阵数组A和B在第三维上进行拼接</span><br><span class="line">%在第dim维上拼接两个矩阵数组</span><br><span class="line">data = cat（dim, A, B）</span><br><span class="line"></span><br><span class="line">cat：用来联结数组</span><br><span class="line">用法：C = cat(dim, A, B)       按dim来联结A和B两个数组。</span><br><span class="line">          C = cat(dim, A1, A2, A3, ...)    按dim联结所有输入的数组。</span><br><span class="line">          EXP: a=cat(3,A,B) 左括号后的3表示构造出的矩阵维数；在新的矩阵中第1、2维就是A和B]这两</span><br><span class="line">        个矩阵的行数和列数，第3维是A和B]这两个矩阵的矩阵个数，即为2</span><br><span class="line">cat(2, A, B)相当于[A, B];</span><br><span class="line">cat(1, A, B)相当于[A; B].</span><br><span class="line">使用“,”分割列表的语法，cat(dim, C&#123;:&#125;)或cat(dim, C.field)，这是将包含数据矩阵的cell或结构数组联合为一个数组的方便方式。</span><br><span class="line">例如：</span><br><span class="line">&gt;&gt; A = [1 2; 3 4];</span><br><span class="line">&gt;&gt; B = [5 6; 7 8];</span><br><span class="line">&gt;&gt; A</span><br><span class="line">A =</span><br><span class="line">    1     2</span><br><span class="line">    3     4</span><br><span class="line">&gt;&gt; B</span><br><span class="line">B =</span><br><span class="line">    5     6</span><br><span class="line">    7     8</span><br><span class="line">&gt;&gt; cat(1, A, B) %按列连接（列数相同）</span><br><span class="line">ans =</span><br><span class="line">    1     2</span><br><span class="line">    3     4</span><br><span class="line">    5     6</span><br><span class="line">    7     8</span><br><span class="line">&gt;&gt; cat(2, A, B) %按行连接（行数相同）</span><br><span class="line">ans =</span><br><span class="line">    1     2     5     6</span><br><span class="line">    3     4     7     8</span><br><span class="line">&gt;&gt; cat(3, A, B) %合成效果如下图</span><br><span class="line">ans(:,:,1) =</span><br><span class="line">    1     2</span><br><span class="line">    3     4</span><br><span class="line">ans(:,:,2) =</span><br><span class="line">    5     6</span><br><span class="line">    7     8</span><br><span class="line"></span><br><span class="line">a = magic(3) </span><br><span class="line">b = pascal(3) </span><br><span class="line">k=1,合并后形如 [a;b],行添加矩阵（要求a,b的列数相等才能合并）； </span><br><span class="line">&gt;&gt; c = cat(1,a,b) </span><br><span class="line">c = </span><br><span class="line">     8     1     6 </span><br><span class="line">     3     5     7 </span><br><span class="line">     4     9     2 </span><br><span class="line">     1     1     1 </span><br><span class="line">     1     2     3 </span><br><span class="line">     1     3     6 </span><br><span class="line">k=2,合并后形如[a,b],列添加矩阵（要求a,b的行数相等才能合并） </span><br><span class="line">&gt;&gt; c = cat(2,a,b) </span><br><span class="line">c = </span><br><span class="line">     8     1     6     1     1     1 </span><br><span class="line">     3     5     7     1     2     3 </span><br><span class="line">     4     9     2     1     3     6 </span><br><span class="line">&gt;&gt; c = cat(3,a,b) </span><br><span class="line">c(:,:,1) = </span><br><span class="line">     8     1     6 </span><br><span class="line">     3     5     7 </span><br><span class="line">     4     9     2 </span><br><span class="line">c(:,:,2) = </span><br><span class="line">     1     1     1 </span><br><span class="line">     1     2     3 </span><br><span class="line">     1     3     6 </span><br><span class="line">n维的矩阵合并，要求n-1维维数相等才可以. </span><br><span class="line">&gt;&gt; c = cat(4,a,b) </span><br><span class="line">c(:,:,1,1) = </span><br><span class="line">     8     1     6 </span><br><span class="line">     3     5     7 </span><br><span class="line">     4     9     2 </span><br><span class="line">c(:,:,1,2) = </span><br><span class="line">     1     1     1 </span><br><span class="line">     1     2     3 </span><br><span class="line">     1     3     6 </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>####randn函数<br>randn（random normal distribution）是一种产生标准正态分布的随机数或矩阵的函数。返回一个n*n的随机项的矩阵。如果n不是个数量，将返回错误信息。主要用于产生随机数。<br><strong>标准正态分布</strong>：方差为1，期望为0的一个分布，比如在神经网络中可用于产生随机初始化的权重。在-1.96<del>+1.96之间曲线下面积为0.95，在-2.58</del>2.58之间曲线下面积为0.99。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/07/26/MATLAB%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B%E6%89%80%E6%9C%89%E5%9B%BE%E5%83%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoliceYu的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/26/MATLAB%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B%E6%89%80%E6%9C%89%E5%9B%BE%E5%83%8F/" itemprop="url">MATLAB读取文件夹下所有图像</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-26T22:07:00+08:00">
                2017-07-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/MATLAB/" itemprop="url" rel="index">
                    <span itemprop="name">MATLAB</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在matlab编程中经常遇到需要处理各种路径的问题，很是蛋疼，这里将最近的编程中经常遇到的有关路径的一些常见的操作进行总结。</p>
<h2 id="1-主要函数和命令"><a href="#1-主要函数和命令" class="headerlink" title="1 主要函数和命令"></a>1 主要函数和命令</h2><h3 id="fullfile函数"><a href="#fullfile函数" class="headerlink" title="fullfile函数"></a>fullfile函数</h3><p>利用文件各部分信息创建 合成完整文件名，主要用于路径的拼接。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">%用法形式</span><br><span class="line">anws = fullfile(&#x27;dir1&#x27;,&#x27;dor2&#x27;...&#x27;filename&#x27;)</span><br><span class="line">%举例</span><br><span class="line">fullfile(&#x27;D\data\data1\&#x27;,&#x27;data2&#x27;,&#x27;img0.jpg&#x27;)</span><br><span class="line">%返回路径：&#x27;D\data\data1\data2\img0.jpg&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="dir函数"><a href="#dir函数" class="headerlink" title="dir函数"></a>dir函数</h3><p>读取一个文件夹下的所有的文件，并存储到一个结构体中。在结构体中存储了该文件夹下所有的文件的名字以及文件的创建日期。</p>
<h3 id="size函数"><a href="#size函数" class="headerlink" title="size函数"></a>size函数</h3><p>size（data, n）返回多维矩阵的第n维的维度，eg：data为一个图像数据100<em>100</em>3，size（data, 1）返回值为100。</p>
<h3 id="strcat函数"><a href="#strcat函数" class="headerlink" title="strcat函数"></a>strcat函数</h3><p>拼接两个字符串形成路径</p>
<h3 id="imread函数"><a href="#imread函数" class="headerlink" title="imread函数"></a>imread函数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">imgdata = imread(imgpath); %%读取图像数据</span><br></pre></td></tr></table></figure>
<p>###imresize函数<br>将图像缩放到指定大小。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">image = imresize（image,[m n]）; %将图像缩放到m*n的大小</span><br></pre></td></tr></table></figure>


<h2 id="2-MATLAB代码"><a href="#2-MATLAB代码" class="headerlink" title="2 MATLAB代码"></a>2 MATLAB代码</h2><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">SamplePath1 =  &#x27;data\&#x27;;  %存储图像的路径</span><br><span class="line">fileExt = &#x27;*.jpg&#x27;;  %待读取图像的后缀名</span><br><span class="line">%获取所有路径</span><br><span class="line">files = dir(fullfile(SamplePath1,fileExt)); </span><br><span class="line">len1 = size(files,1);</span><br><span class="line">%遍历路径下每一幅图像</span><br><span class="line">for i=1:len1;</span><br><span class="line">   fileName = strcat(SamplePath1,files(i).name); </span><br><span class="line">   image = imread(fileName);</span><br><span class="line">   image = imresize(image,[61 61]);</span><br><span class="line">   norubbish_data(:,:,:,i) = image;</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<h3 id="核心讲解"><a href="#核心讲解" class="headerlink" title="核心讲解"></a>核心讲解</h3><p>需要注意理解的是：<strong>在matlab中所有的变量是都以矩阵的形式存在的，上面代码中files为一维的矩阵，所以索引其每一维需要一维就可以；在matlab中图像数据是三维的，所以一个存储很多图像的变量就必须是四维的，前三维是图像的参数，第四维是图像索引。</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/05/09/opencv%E6%8F%90%E5%8F%96sift%E7%89%B9%E5%BE%81%E7%82%B9&%E5%9B%BE%E5%83%8F%E5%8C%B9%E9%85%8D%E4%B8%8E%E9%85%8D%E5%87%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoliceYu的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/09/opencv%E6%8F%90%E5%8F%96sift%E7%89%B9%E5%BE%81%E7%82%B9&%E5%9B%BE%E5%83%8F%E5%8C%B9%E9%85%8D%E4%B8%8E%E9%85%8D%E5%87%86/" itemprop="url">OpenCV中提取SIFT特征点、图像匹配、图像配准</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-09T22:07:00+08:00">
                2017-05-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" itemprop="url" rel="index">
                    <span itemprop="name">图像处理</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在实际中提取图像的sift特征点，再对特征点做匹配，形成特征点对，最后计算图像变换的矩阵，一般为单应矩阵，再利用单应矩阵进行图像的配准，现在基于OpenCV实现相关的算法和步骤，具体代码和主要的函数讲解如下。</p>
<h3 id="代码如下"><a href="#代码如下" class="headerlink" title="代码如下"></a>代码如下</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include &lt;opencv2/core/core.hpp&gt;</span><br><span class="line">#include &lt;opencv2/highgui/highgui.hpp&gt;</span><br><span class="line">#include &lt;opencv2/features2d/features2d.hpp&gt;</span><br><span class="line">#include &lt;opencv2/nonfree/nonfree.hpp&gt;</span><br><span class="line">#include &quot;opencv2/calib3d/calib3d.hpp&quot;</span><br><span class="line">#include &lt;highgui.h&gt;  </span><br><span class="line">#include &lt;cv.h&gt;  </span><br><span class="line">#include&lt;vector&gt;</span><br><span class="line">#include&lt;cmath&gt;</span><br><span class="line"></span><br><span class="line">#define PI 3.14159265358979323846264338327950288419716939937510582097</span><br><span class="line">using namespace std;</span><br><span class="line">using namespace cv;</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;	</span><br><span class="line">	//读取原始基准图和待匹配图</span><br><span class="line">	Mat srcImg1 = imread(&quot;1.JPG&quot;);		//待配准图</span><br><span class="line">	Mat srcImg2 = imread(&quot;2.JPG&quot;);		//基准图</span><br><span class="line"></span><br><span class="line">	//显示基准和待配准图</span><br><span class="line">	imshow(&quot;待配准图&quot;, srcImg1);</span><br><span class="line">	imshow(&quot;基准图&quot;, srcImg2);</span><br><span class="line"></span><br><span class="line">	//定义SIFT特征检测类对象</span><br><span class="line">	SiftFeatureDetector siftDetector1;</span><br><span class="line">	SiftFeatureDetector siftDetector2;</span><br><span class="line">	</span><br><span class="line">	//定义KeyPoint变量</span><br><span class="line">	vector&lt;KeyPoint&gt;keyPoints1;</span><br><span class="line">	vector&lt;KeyPoint&gt;keyPoints2;</span><br><span class="line"></span><br><span class="line">	//特征点检测</span><br><span class="line">	siftDetector1.detect(srcImg1, keyPoints1);</span><br><span class="line">	siftDetector2.detect(srcImg2, keyPoints2);</span><br><span class="line"></span><br><span class="line">	//绘制特征点(关键点)</span><br><span class="line">	Mat feature_pic1, feature_pic2;</span><br><span class="line">	drawKeypoints(srcImg1, keyPoints1, feature_pic1, Scalar::all(-1));</span><br><span class="line">	drawKeypoints(srcImg2, keyPoints2, feature_pic2, Scalar::all(-1));</span><br><span class="line"></span><br><span class="line">	drawKeypoints(srcImg1, keyPoints1, feature_pic1, Scalar(0, 255, 0), DrawMatchesFlags::DRAW_RICH_KEYPOINTS);</span><br><span class="line">	drawKeypoints(srcImg2, keyPoints2, feature_pic2, Scalar(0, 255, 0), DrawMatchesFlags::DRAW_RICH_KEYPOINTS);</span><br><span class="line"></span><br><span class="line">	//显示原图</span><br><span class="line"></span><br><span class="line">	//显示结果</span><br><span class="line">	imshow(&quot;feature1&quot;, feature_pic1);</span><br><span class="line">	imshow(&quot;feature2&quot;, feature_pic2);</span><br><span class="line"></span><br><span class="line">	//计算特征点描述符 / 特征向量提取</span><br><span class="line">	SiftDescriptorExtractor descriptor;</span><br><span class="line">	Mat description1;</span><br><span class="line">	descriptor.compute(srcImg1, keyPoints1, description1);</span><br><span class="line">	Mat description2;</span><br><span class="line">	descriptor.compute(srcImg2, keyPoints2, description2);</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; keyPoints1.size() &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; description1.cols &lt;&lt; endl;		//列数</span><br><span class="line">	cout &lt;&lt; description1.rows &lt;&lt; endl;		//行数</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	//进行BFMatch暴力匹配</span><br><span class="line">	//BruteForceMatcher&lt;L2&lt;float&gt;&gt;matcher;    //实例化暴力匹配器</span><br><span class="line">	FlannBasedMatcher matcher;  //实例化FLANN匹配器</span><br><span class="line">	vector&lt;DMatch&gt;matches;   //定义匹配结果变量</span><br><span class="line">	matcher.match(description1, description2, matches);  //实现描述符之间的匹配</span><br><span class="line">	</span><br><span class="line">	//中间变量</span><br><span class="line">	int i,j,k;double sum=0;double b;</span><br><span class="line"></span><br><span class="line">	double max_dist = 0;  </span><br><span class="line">    double min_dist = 100;  </span><br><span class="line">    for(int i=0; i&lt;matches.size(); i++)  </span><br><span class="line">    &#123;  </span><br><span class="line">        double dist = matches[i].distance;  </span><br><span class="line">        if(dist &lt; min_dist) </span><br><span class="line">			min_dist = dist;  </span><br><span class="line">        if(dist &gt; max_dist) </span><br><span class="line">			max_dist = dist;  </span><br><span class="line">    &#125;  </span><br><span class="line">    cout&lt;&lt;&quot;最大距离：&quot;&lt;&lt;max_dist&lt;&lt;endl;  </span><br><span class="line">    cout&lt;&lt;&quot;最小距离：&quot;&lt;&lt;min_dist&lt;&lt;endl;  </span><br><span class="line">  </span><br><span class="line">    //筛选出较好的匹配点  </span><br><span class="line">    vector&lt;DMatch&gt; good_matches;  </span><br><span class="line">	double dThreshold = 0.5;    //匹配的阈值，越大匹配的点数越多</span><br><span class="line">    for(int i=0; i&lt;matches.size(); i++)  </span><br><span class="line">    &#123;  </span><br><span class="line">        if(matches[i].distance &lt; dThreshold * max_dist)  </span><br><span class="line">        &#123;  </span><br><span class="line">            good_matches.push_back(matches[i]);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">	//RANSAC 消除误匹配特征点 主要分为三个部分：</span><br><span class="line">	//1）根据matches将特征点对齐,将坐标转换为float类型</span><br><span class="line">	//2）使用求基础矩阵方法findFundamentalMat,得到RansacStatus</span><br><span class="line">	//3）根据RansacStatus来将误匹配的点也即RansacStatus[i]=0的点删除</span><br><span class="line"></span><br><span class="line">   //根据matches将特征点对齐,将坐标转换为float类型</span><br><span class="line">    vector&lt;KeyPoint&gt; R_keypoint01,R_keypoint02;</span><br><span class="line">    for (i=0;i&lt;good_matches.size();i++)   </span><br><span class="line">    &#123;</span><br><span class="line">        R_keypoint01.push_back(keyPoints1[good_matches[i].queryIdx]);</span><br><span class="line">        R_keypoint02.push_back(keyPoints2[good_matches[i].trainIdx]);</span><br><span class="line">       // 这两句话的理解：R_keypoint1是要存储img01中能与img02匹配的特征点，</span><br><span class="line">       // matches中存储了这些匹配点对的img01和img02的索引值</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	//坐标转换</span><br><span class="line">    vector&lt;Point2f&gt;p01,p02;</span><br><span class="line">    for (i=0;i&lt;good_matches.size();i++)</span><br><span class="line">    &#123;</span><br><span class="line">        p01.push_back(R_keypoint01[i].pt);</span><br><span class="line">        p02.push_back(R_keypoint02[i].pt);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	//计算基础矩阵并剔除误匹配点</span><br><span class="line">    vector&lt;uchar&gt; RansacStatus;</span><br><span class="line">	Mat Fundamental= findHomography(p01,p02,RansacStatus,CV_RANSAC);</span><br><span class="line">	Mat dst;</span><br><span class="line">	warpPerspective(srcImg1, dst, Fundamental,Size(srcImg1.cols,srcImg1.rows));</span><br><span class="line"></span><br><span class="line">	imshow(&quot;配准后的图&quot;,dst );</span><br><span class="line">	imwrite(&quot;dst.jpg&quot;, dst);</span><br><span class="line"></span><br><span class="line">	//剔除误匹配的点对</span><br><span class="line">    vector&lt;KeyPoint&gt; RR_keypoint01,RR_keypoint02;</span><br><span class="line">    vector&lt;DMatch&gt; RR_matches;            //重新定义RR_keypoint 和RR_matches来存储新的关键点和匹配矩阵</span><br><span class="line">    int index=0;</span><br><span class="line">    for (i=0;i&lt;good_matches.size();i++)</span><br><span class="line">    &#123;</span><br><span class="line">        if (RansacStatus[i]!=0)</span><br><span class="line">        &#123;</span><br><span class="line">            RR_keypoint01.push_back(R_keypoint01[i]);</span><br><span class="line">            RR_keypoint02.push_back(R_keypoint02[i]);</span><br><span class="line">            good_matches[i].queryIdx=index;</span><br><span class="line">            good_matches[i].trainIdx=index;</span><br><span class="line">            RR_matches.push_back(good_matches[i]);</span><br><span class="line">            index++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	cout&lt;&lt;&quot;找到的特征点对：&quot;&lt;&lt;RR_matches.size()&lt;&lt;endl;</span><br><span class="line">	</span><br><span class="line">	//画出消除误匹配后的图</span><br><span class="line">	Mat img_RR_matches;</span><br><span class="line">    drawMatches(srcImg1,RR_keypoint01,srcImg2,RR_keypoint02,RR_matches,img_RR_matches, Scalar(0, 255, 0), Scalar::all(-1));</span><br><span class="line">    imshow(&quot;消除误匹配点后&quot;,img_RR_matches);</span><br><span class="line">	imwrite(&quot;匹配图.jpg&quot;, img_RR_matches);</span><br><span class="line">	</span><br><span class="line">	waitKey(0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="二、主要函数解释"><a href="#二、主要函数解释" class="headerlink" title="二、主要函数解释"></a>二、主要函数解释</h3><p><font size = "3">1、findHomography函数：根据匹配点对坐标对的值，和RANSAC随机一致性算法剔除误匹配点对，并计算两幅图的单应矩阵。<br><strong>主要参数：参数1–待配准图中特征点坐标向量，</strong><br><strong>参数2–基准图像中特征点坐标向量；</strong><br><strong>返回值–计算出的3*3的单应矩阵的值，该矩阵即代表两幅图的变换关系</strong><br>注意：这个函数计算处单应矩阵，最少需要4对成功的匹配点对。<br>2、warpPerspective函数：根据单应矩阵，对待配准的图像进行重采样，计算配准后的图。<br><strong>主要参数：参数1–待配准图类对象，</strong><br><strong>参数2–待匹配图根据单应矩阵变换后的输出图像类对象；</strong><br><strong>参数3–单应矩阵；</strong><br><strong>参数4–输出图像类对象的大小，即输出图像的高度和宽度；</strong><br><strong>返回值–计算出的3*3的单应矩阵的值，该矩阵即代表两幅图的变换关系</strong></p>
<h3 id="三、算法运行效果"><a href="#三、算法运行效果" class="headerlink" title="三、算法运行效果"></a>三、算法运行效果</h3><p><img src="https://img-blog.csdnimg.cn/img_convert/97cd7c56889336553650f66d32aa075f.png" alt="这里写图片描述"><br><font size = "3">运行效果：从待匹配图到匹配后的图，图像发生了一定的旋转，同时向基准图像靠拢了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/05/08/%E5%8A%A8%E6%80%81&%E9%9D%99%E6%80%81%E7%BC%96%E8%AF%91%E4%BB%A5%E5%8F%8AMD&MDd&MT&MTd%E7%BC%96%E8%AF%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoliceYu的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/08/%E5%8A%A8%E6%80%81&%E9%9D%99%E6%80%81%E7%BC%96%E8%AF%91%E4%BB%A5%E5%8F%8AMD&MDd&MT&MTd%E7%BC%96%E8%AF%91/" itemprop="url">动态、静态编译以及MD、MDd、MT、MTd编译</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-08T22:07:00+08:00">
                2017-05-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="一、问题的引出"><a href="#一、问题的引出" class="headerlink" title="一、问题的引出"></a>一、问题的引出</h3><p>最近在VS2012中新建了一个MFC的工程，在自己电脑上运行很好，但是当拷贝到同学电脑上的时候一直出现“差dll”或者是“应用程序无法启动”的错误。后来找出原因，是自己编译的时候选择静态还是动态编译的问题。<br><strong>解决办法1</strong>：让同学安装了VS2012，注意这里必须是和自己编译器相同的版本，比如是2013就不行。<br><strong>解决办法2</strong>：在自己这边用静态编译，重新生成可执行文件即可。</p>
<h3 id="二、动态和静态编译的区别"><a href="#二、动态和静态编译的区别" class="headerlink" title="二、动态和静态编译的区别"></a>二、动态和静态编译的区别</h3><p>1、区别：动态编译的生成的可执行文件的exe小，但是运行需要系统环境具有相关的dll文件，就是动态调用系统相关的文件才能运行；静态编译生成的可执行文件exe大，但是运行的时候不依赖于系统环境所依赖的dll和lib等环境问题，在编译的时候已经这些dll相关文件编译进了exe文件，所以exe文件较大，但是执行的时候不会依赖于系统环境。所以需要自己创建的工程需要在别的电脑上运行，考虑到稳定性，同时对执行文件的大小没有要求的话还是尽量选择静态编译。<br>2、VS中两种编译状态的设置：在工程的“属性”中进行修改。具体截图如下：<br><img src="https://img-blog.csdnimg.cn/img_convert/0c9550b818dfa8da568a311702d5a44d.png" alt="这里写图片描述"><br>    <strong>共享dll – 动态编译；静态库中使用 – 静态编译。</strong></p>
<h3 id="三、MD、MDd、MT、MTd编译"><a href="#三、MD、MDd、MT、MTd编译" class="headerlink" title="三、MD、MDd、MT、MTd编译"></a>三、MD、MDd、MT、MTd编译</h3><p><font size="3">1、设置：在设置动态和静态编译后就需要对“C&#x2F;C++ –&gt; 代码生成 –&gt; 运行库”进行设置，具体截图如下：<img src="https://img-blog.csdnimg.cn/img_convert/90421deaad0fc395ecff001df9b4b2fa.png" alt="这里写图片描述"><br>2、编译形式和四种运行库的配置关系如下：<br>（1）、静态编译：    debug状态下 – MTd； release状态下 – MT<br>（2）、动态编译：    debug状态下 – MDd；release状态下 – MD<br><strong>记住：静态编译为T，动态编译为D，debug下有个字母d，release下没有字母d</strong></p>
<h3 id="四、测试"><a href="#四、测试" class="headerlink" title="四、测试"></a>四、测试</h3><p>在VS2012中新建一个MFC对话框工程，分别配置和设置。<br>1、动态编译debug下： exe大小为185KB<br>2、动态编译release下： exe大小为88.5KB（release版本下少了很多中间文件所以比debug下的小）<br>3、静态编译debug下： exe大小为8.81MB<br>4、静态编译release下： exe大小为3.37MB（release版本下少了很多中间文件所以比debug下的小）<br><strong>可以明显注意到静态编译的生成的exe文件比动态生成的exe文件要大很多，因为编译的时候将相应的dll也编译进去exe之中，所以exe的大小会很大。</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/05/06/MFC%E4%B8%AD%E5%90%91%E5%AF%B9%E8%AF%9D%E6%A1%86%E4%B8%AD%E6%B7%BB%E5%8A%A0%E8%8F%9C%E5%8D%95%E6%A0%8F%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoliceYu的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/06/MFC%E4%B8%AD%E5%90%91%E5%AF%B9%E8%AF%9D%E6%A1%86%E4%B8%AD%E6%B7%BB%E5%8A%A0%E8%8F%9C%E5%8D%95%E6%A0%8F%E6%96%B9%E6%B3%95/" itemprop="url">MFC中向对话框中添加菜单栏方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-06T22:07:00+08:00">
                2017-05-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在MFC中一般基于对话框的MFC界面是没有菜单栏的，基于文档视图结构的MFC界面是有菜单栏的，那么怎么在基于对话框的MFC界面中添加菜单栏。下面是基于网上的博客啥的自己整理的。</p>
<h3 id="一、在资源视图中将menu加入资源视图中"><a href="#一、在资源视图中将menu加入资源视图中" class="headerlink" title="一、在资源视图中将menu加入资源视图中"></a>一、在资源视图中将menu加入资源视图中</h3><p>1、在MFC中新建一个基于对话框的MFC界面工程，打开资源视图截图如下：</p>
<p><img src="https://img-blog.csdnimg.cn/img_convert/8d132f0909781f4442f6bbf453b77234.png" alt="这里写图片描述"></p>
<p>里面是默认没有menu资源的。这时就需要我们手动添加menu资源了。<br>2、在资源视图中添加menu资源<br>还是在资源视图中，任选一个空白的地方“右击”，弹出如下界面，选择“添加资源（A）”功能<br><img src="https://img-blog.csdnimg.cn/img_convert/cac64960da9ca18ffc8d96064d20e3f9.png" alt="这里写图片描述"><br>之后在弹出的对话框中选择menu资源，再单击“新建”按钮，界面如下：<br><img src="https://img-blog.csdnimg.cn/img_convert/7729252364fb40dde74d5dcffdb988ad.png" alt="这里写图片描述"><br><strong>注意</strong>：这个时候在工程的资源视图中已经有了menu资源。接下来就是新建menu资源了。</p>
<h3 id="二、在资源视图添加菜单栏"><a href="#二、在资源视图添加菜单栏" class="headerlink" title="二、在资源视图添加菜单栏"></a>二、在资源视图添加菜单栏</h3><p>1、在资源视图中添加菜单栏<br>步骤：在资源视图中，选中“menu”资源，右击，选择“插入Menu”，之后在资源视图的Menu下面就有了一个菜单栏，如下图：<br><img src="https://img-blog.csdnimg.cn/img_convert/95a240694985ec1ddb38262ed83e58be.png" alt="这里写图片描述"><br>双击具体新建的菜单栏就可以对菜单栏进行编辑了。<br>2、对插入的菜单栏进行编辑<br>（1）修改菜单栏的ID，<strong>注意</strong>：记住ID，后面有用<br>（2）修改菜单栏为我们想要的样子，如下：<br><img src="https://img-blog.csdnimg.cn/img_convert/70328026606361fc97b595571fa6aa96.png" alt="这里写图片描述"><br><strong>注意</strong>：此处，菜单栏有个ID，菜单栏上每个项都会有ID。</p>
<h3 id="三、将菜单栏添加到对话框界面"><a href="#三、将菜单栏添加到对话框界面" class="headerlink" title="三、将菜单栏添加到对话框界面"></a>三、将菜单栏添加到对话框界面</h3><p>1、将菜单栏添加到界面<br>打开你新加入的菜单项，单击“项目”–&gt;“添加现有项”，在这里选择已有的类，就是你要为其添加菜单的对话框的类，例如，***Dlg.cpp。然后确定。如下图所示：<br><img src="https://img-blog.csdnimg.cn/img_convert/dd356f507622e76af77fdffc77b15e22.png" alt="这里写图片描述"><br><strong>注意</strong>：这里选择对话框的类的时候，一定要选择你需要添加菜单的对话框的cpp文件，特别是有多个对话框的时候一定要注意。<br>###<strong>四、在对话框文件中添加相应的代码<br>1、在对话框类.h文件中声明CMenu变量<br>打开对话框头文件</strong>*Dlg.h，声明CMenu 变量,例如m_Menu;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CMenu m_Menu;</span><br></pre></td></tr></table></figure>

<p>2、在对话框类.cpp文件中添加代码<br>打开<em><strong>Dlg.cpp 文件，在</strong></em>Dlg::OnInitDlg()中加入如下语句：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m_Menu.LoadMenu(IDR_MENU1);  //  IDR_MENU1</span><br></pre></td></tr></table></figure>

<p>为你加入的菜单的ID，在Resource视图的Menu文件夹下可以找到。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SetMenu(&amp;m_Menu);</span><br></pre></td></tr></table></figure>

<p>这样就OK了，调试一下，菜单就已经出现在对应的对话框中。<br>成功运行之后的对话框界面如下：<br><img src="https://img-blog.csdnimg.cn/img_convert/bf562c1c4ddaa9561307c936bee522ff.png" alt="这里写图片描述"><br>成功添加了菜单栏之后就可以和在文档视图模式下一样对菜单进行操作，添加具体菜单项，以及为具体的菜单项添加消息处理函数等。</p>
<p><strong>参考博客</strong>：<a target="_blank" rel="noopener" href="http://blog.csdn.net/apxar/article/details/12690431">http://blog.csdn.net/apxar/article/details/12690431</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/04/27/OpenCV%E4%B8%ADMat,%E5%9B%BE%E5%83%8F%E4%BA%8C%E7%BB%B4%E6%8C%87%E9%92%88%E5%92%8CCxImage%E7%B1%BB%E7%9A%84%E8%BD%AC%E6%8D%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JoliceYu的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/27/OpenCV%E4%B8%ADMat,%E5%9B%BE%E5%83%8F%E4%BA%8C%E7%BB%B4%E6%8C%87%E9%92%88%E5%92%8CCxImage%E7%B1%BB%E7%9A%84%E8%BD%AC%E6%8D%A2/" itemprop="url">OpenCV中Mat,图像二维指针和CxImage类的转换</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-27T22:07:00+08:00">
                2017-04-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" itemprop="url" rel="index">
                    <span itemprop="name">图像处理</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在做图像处理中，常用的函数接口有Opencv中的Mat图像类，有时候需要直接用二维指针开辟内存直接存储图像数据，有时候需要用到CxImage类存储图像。本文主要是总结下这三类存储方式之间的图像数据的转换和相应的对应关系。</p>
<h3 id="一、OpenCV的Mat类到图像二值指针的转换"><a href="#一、OpenCV的Mat类到图像二值指针的转换" class="headerlink" title="一、OpenCV的Mat类到图像二值指针的转换"></a>一、<strong>OpenCV的Mat类到图像二值指针的转换</strong></h3><p><font size="3">以下为函数代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">unsigned char** MatTopImgData(Mat img)</span><br><span class="line">&#123;</span><br><span class="line">	//获取图像参数</span><br><span class="line">	int row = img.rows;</span><br><span class="line">	int col = img.cols;</span><br><span class="line">	int band = img.channels;</span><br><span class="line"></span><br><span class="line">	//定义图像二值指针</span><br><span class="line">	unsigned char** pImgdata = new unsigned char*[band];</span><br><span class="line">	for(int i=0;i&lt;band;i++)</span><br><span class="line">		pImgdata[i] = new unsigned char[row*col];</span><br><span class="line">	</span><br><span class="line">	for(int i=0;i&lt;row;i++)	//行数--高度</span><br><span class="line">	&#123;</span><br><span class="line">		unsigned char* data = img.ptr&lt;unsigned char&gt;(i); //指向第i行的数据</span><br><span class="line">		for(int j=0;j&lt;col;j++)		//列数 -- 宽度</span><br><span class="line">		&#123;</span><br><span class="line">			for(int m=0;m&lt;band;m++)		//将各个波段的数据存入数组</span><br><span class="line">				pImgdata[m][i*col+j] = data[j*band+m];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return pImgdata;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><font size="3">需要注意的是：</p>
<p>（1）在Mat类中，图像数据的存储方式是BGR形式，这样得到的二维指针的数据存储顺序则为BGR形式。</p>
<p>（2）在Mat类中图像无论是灰度图还是RGB图都是以以为指针的形式存储的，所以在读取每个数据时，先找到每行数据的首地址，再顺序读取每行数据的BGR的灰度值。</p>
<p>（3）在Mat类中的row为行数，对应平时所说的图像的高度，col为列数对用图像的宽度。</p>
<h3 id="二、图像二值指针到OpenCV的Mat类的转换"><a href="#二、图像二值指针到OpenCV的Mat类的转换" class="headerlink" title="二、图像二值指针到OpenCV的Mat类的转换"></a>二、<strong>图像二值指针到OpenCV的Mat类的转换</strong></h3><p><font size="3">以下为函数代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Mat ImgData(unsigned char** pImgdata, int width, int height, int band)</span><br><span class="line">&#123;</span><br><span class="line">	Mat Img;</span><br><span class="line">	if(band == 1)		//灰度图</span><br><span class="line">		Img.create(height, width, CV_8UC1);</span><br><span class="line">	else                //彩色图</span><br><span class="line">		Img.create(height, width, CV_8UC3);</span><br><span class="line"></span><br><span class="line">	for(int i=0;i&lt;height;i++)	//行数--高度</span><br><span class="line">	&#123;</span><br><span class="line">		unsigned char* data = Img.ptr&lt;unsigned char&gt;(i); //指向第i行的数据</span><br><span class="line">		for(int j=0;j&lt;width;j++)		//列数 -- 宽度</span><br><span class="line">		&#123;</span><br><span class="line">			for(int m=0;m&lt;band;m++)		//将各个波段的数据存入数组</span><br><span class="line">				data[j*band+m]=pImgdata[m][i*width+j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return Img;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="三、CxImage类到图像二维指针的转换"><a href="#三、CxImage类到图像二维指针的转换" class="headerlink" title="三、CxImage类到图像二维指针的转换"></a>三、<strong>CxImage类到图像二维指针的转换</strong></h3><p><font size="3">以下为函数代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">unsigned char** CxImageToPimgdata(CxImage Image)</span><br><span class="line">&#123;</span><br><span class="line">	int width = Image.GetWidth();</span><br><span class="line">	int height = Image.GetHeight();</span><br><span class="line">	</span><br><span class="line">	RGBQUAD rgbdata;</span><br><span class="line">	unsigned char** pImgdata = new unsigned char*[3];</span><br><span class="line">	for(int m=0;m&lt;3;m++)</span><br><span class="line">		pImgdata[m] = new unsigned char[width*height];</span><br><span class="line"></span><br><span class="line">	for(int i = 0; i &lt; width; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		for(int j = 0; j &lt; height; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			//获取主窗口图片每一个像素的rgb数据</span><br><span class="line">			rgbdata = Image.GetPixelColor(i, (height-j-1), true);					</span><br><span class="line">			pImgdata[0][j*width + i] = rgbdata.rgbRed;</span><br><span class="line">			pImgdata[1][j*width + i] = rgbdata.rgbGreen;</span><br><span class="line">			pImgdata[2][j*width + i] = rgbdata.rgbBlue;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return pImgdata;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><font size="3">需要注意的是：CxImage读取图像数据后图像的原点是在图像的左下角，与我们的传统的图像数据原点为左上角相反，所以在读取图像时”(height-j-1)”的由来。</p>
<h3 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h3><p><font size="3"><strong>不同的实际情况中可能需要用到不同的图像库和对应的函数接口，因此经常需要用到这些不同的库的图像对象之间的数据的转换，实际根据情况进行下缓缓即可。</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">30</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/archives/index.html">
                  <span class="site-state-item-count">44</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xipeng Yu</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
